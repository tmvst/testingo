// Generated by CoffeeScript 1.6.3
(function(){var e,t,n,r,i,s,o;i=1;e=function(){return'<div class="form-group">\n	<label for="odpoved">'+i+'.</label>\n	<input type="text" id="s'+i+'" name="odpoved" class="phrase form-control" placeholder="Správna odpoveď">\n	<div class="btn btn-default btn-sm delete-button"> Zmazať </div> <br>\n</div>'};t=function(){return"<a class=\"btn btn-default btn-sm\" id='submit'> Pridať odpoveď </a> <br>"};s=function(){$("#answer_s").append(e());i++;return o()};o=function(){var e;return e=$(".phrase").length};n=function(e){return $(e.target).parent().remove()};r=function(e){var t,n,r;$("#form_s").validate({rules:{text:{required:!0},points:{number:!0}},messages:{text:"Prosím zadajte text otázky",points:{number:"Body musia byť číslo"}}});if($("#form_s").valid()){r=$("textarea[name='text']").val();n=$("input[name='points']").val();t=$("input.phrase").serializeArray();$.ajax({url:post_url,type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({text:r,points:n,answers:t})}).done(function(t){return top.location.href=e}).fail(function(e){return console.log(e)})}return!1};$(document).ready(function(){var e,i,o,u,a;e=$("#answer_s");e.html(t());$("#submit").click(s);$("#answer_s").on("click",".delete-button",n);$("#form_s").submit(function(){return!1});a=test_url+"/new-phrase-question";i=test_url+"/new-checkbox-question";u=test_url+"/new-radio-question";o=test_url+"/new-open-question";$("#save_and_add_s").click(function(){return r(a)});$("#save_and_add_c").click(function(){return r(i)});$("#save_and_add_r").click(function(){return r(u)});$("#save_and_add_o").click(function(){return r(o)});return $("#save_and_end").click(function(){return r(test_url)})})}).call(this);